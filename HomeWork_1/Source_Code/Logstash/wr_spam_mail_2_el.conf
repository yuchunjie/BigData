input {
  file {
    path => [
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2010/*.lorien",
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2011/*.lorien",
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2012/*.lorien",
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2013/*.lorien",
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2014/*.lorien",
			"/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/2015/*.lorien",
	        "/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/*.lorien"]
    start_position => beginning 
    sincedb_path => "/home/hadoop/logstash-1.4.2/_sample_log/spam_mail_log/sincedb.db"
  }
}
filter {
   #if[message] =~ /^\s*$/ {
   if[message] == "" {
   drop { }
   }
  grok {
#    match => [ "message", "%{IP:client} %{WORD:method} %{URIPATHPARAM:request} %{NUMBER:bytes} %{NUMBER:duration}" ]
#     match => [ "message", "%{NUMBER:Content-Length}" ]
#     match => [ "message", "%{MONTH \b(?:Jan(?:uary)?|Feb(?:ruary)?|Mar(?:ch)?|Apr(?:il)?|May|Jun(?:e)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|Oct(?:ober)?|Nov(?:ember)?|Dec(?:ember)?)\b}" ]

  }   
} 
output{
 stdout {
 codec => rubydebug
 #debug => true
 #debug_format => "json"
 }
 elasticsearch {
# host => "192.168.10.11"
 host => "hadoop01"
 port => 9200
 index => "sample"
 index_type => "sample_event"
 cluster => "sample"
 protocol => "http"
 workers => 1
 }
}
